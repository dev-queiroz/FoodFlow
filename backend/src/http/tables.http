### 1. Create Table (Sucesso - Dono)
POST http://localhost:3000/tables
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIyMzcwZjhhNC05ZTgxLTRkMjUtYjY5Ny1mZWUxMjg5MjExMDkiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTI2LCJpYXQiOjE3NTMyMDY1MjYsImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkRvbm8gVGVzdGUiLCJwaG9uZV92ZXJpZmllZCI6ZmFsc2UsInN1YiI6IjIzNzBmOGE0LTllODEtNGQyNS1iNjk3LWZlZTEyODkyMTEwOSJ9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzUzMjA2NTI2fV0sInNlc3Npb25faWQiOiJmMjYzYmEwOC01OWM3LTRjNDMtODc1Zi1iYWVlMGMyY2MwNTAiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.2_GwDqbWojmBgm3tbqurRnnSmoQ5oGGdoW1NOXUmTJE
Content-Type: application/json

{
    "restaurant_id": "{{restaurant_id}}",
    "table_number": 1,
    "capacity": 4
}

### Espera: 201, { "id": "...", "restaurant_id": "{{restaurant_id}}", "table_number": 1, "qr_code": "...", "status": "available", "capacity": 4, ... }
# Salve o id em {{table_id}} e qr_code em {{qr_code}}

### 2. Create Table (Erro - Sem permissão, Garçom)
POST http://localhost:3000/tables
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI1M2FkMzFkMC03YjNjLTRkNTQtOTA5Ny1lZGQxMDBmYjYzYTUiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTM3LCJpYXQiOjE3NTMyMDY1MzcsImVtYWlsIjoib2xpdmVpcmF2YWxkaXJlbmU3NDZAZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJlbWFpbCIsInByb3ZpZGVycyI6WyJlbWFpbCJdfSwidXNlcl9tZXRhZGF0YSI6eyJlbWFpbCI6Im9saXZlaXJhdmFsZGlyZW5lNzQ2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiR2Fyw6dvbSBUZXN0ZSIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiNTNhZDMxZDAtN2IzYy00ZDU0LTkwOTctZWRkMTAwZmI2M2E1In0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDY1Mzd9XSwic2Vzc2lvbl9pZCI6IjNlN2IxMmI1LTBjODctNDgzZC04MTQ1LTc3ZWY3ZDQ0ZGI1YyIsImlzX2Fub255bW91cyI6ZmFsc2V9.q33h0pVeuSY_iotpL_ft7eNMdKyI0YIFLwq-PJNwxTc
Content-Type: application/json

{
    "restaurant_id": "{{restaurant_id}}",
    "table_number": 2,
    "capacity": 4
}

### Espera: 403, { "message": "Apenas donos podem criar mesas" }

### 3. Create Table (Erro - Número da mesa duplicado)
POST http://localhost:3000/tables
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIyMzcwZjhhNC05ZTgxLTRkMjUtYjY5Ny1mZWUxMjg5MjExMDkiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTI2LCJpYXQiOjE3NTMyMDY1MjYsImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkRvbm8gVGVzdGUiLCJwaG9uZV92ZXJpZmllZCI6ZmFsc2UsInN1YiI6IjIzNzBmOGE0LTllODEtNGQyNS1iNjk3LWZlZTEyODkyMTEwOSJ9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzUzMjA2NTI2fV0sInNlc3Npb25faWQiOiJmMjYzYmEwOC01OWM3LTRjNDMtODc1Zi1iYWVlMGMyY2MwNTAiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.2_GwDqbWojmBgm3tbqurRnnSmoQ5oGGdoW1NOXUmTJE
Content-Type: application/json

{
    "restaurant_id": "{{restaurant_id}}",
    "table_number": 1,
    "capacity": 4
}

### Espera: 400, { "message": "Número da mesa já existe para este restaurante" }

### 4. List Tables (Sucesso - Dono)
GET http://localhost:3000/tables/{{restaurant_id}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIyMzcwZjhhNC05ZTgxLTRkMjUtYjY5Ny1mZWUxMjg5MjExMDkiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTI2LCJpYXQiOjE3NTMyMDY1MjYsImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkRvbm8gVGVzdGUiLCJwaG9uZV92ZXJpZmllZCI6ZmFsc2UsInN1YiI6IjIzNzBmOGE0LTllODEtNGQyNS1iNjk3LWZlZTEyODkyMTEwOSJ9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzUzMjA2NTI2fV0sInNlc3Npb25faWQiOiJmMjYzYmEwOC01OWM3LTRjNDMtODc1Zi1iYWVlMGMyY2MwNTAiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.2_GwDqbWojmBgm3tbqurRnnSmoQ5oGGdoW1NOXUmTJE
Content-Type: application/json

{}

### Espera: 200, [ { "id": "{{table_id}}", "restaurant_id": "{{restaurant_id}}", "table_number": 1, ... }, ... ]

### 5. List Tables (Sucesso - Garçom)
GET http://localhost:3000/tables/{{restaurant_id}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI1M2FkMzFkMC03YjNjLTRkNTQtOTA5Ny1lZGQxMDBmYjYzYTUiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTM3LCJpYXQiOjE3NTMyMDY1MzcsImVtYWlsIjoib2xpdmVpcmF2YWxkaXJlbmU3NDZAZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJlbWFpbCIsInByb3ZpZGVycyI6WyJlbWFpbCJdfSwidXNlcl9tZXRhZGF0YSI6eyJlbWFpbCI6Im9saXZlaXJhdmFsZGlyZW5lNzQ2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiR2Fyw6dvbSBUZXN0ZSIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiNTNhZDMxZDAtN2IzYy00ZDU0LTkwOTctZWRkMTAwZmI2M2E1In0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDY1Mzd9XSwic2Vzc2lvbl9pZCI6IjNlN2IxMmI1LTBjODctNDgzZC04MTQ1LTc3ZWY3ZDQ0ZGI1YyIsImlzX2Fub255bW91cyI6ZmFsc2V9.q33h0pVeuSY_iotpL_ft7eNMdKyI0YIFLwq-PJNwxTc
Content-Type: application/json

{}

### Espera: 200, [ { "id": "{{table_id}}", "restaurant_id": "{{restaurant_id}}", "table_number": 1, ... }, ... ]

### 6. List Tables (Erro - Sem permissão, Cliente)
GET http://localhost:3000/tables/{{restaurant_id}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIwNTk1MzlmYS1mY2EwLTQ0MTktOWQwNS1mNDBjZGQzZjM5NzIiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMDc4LCJpYXQiOjE3NTMyMDY0NzgsImVtYWlsIjoibGV3YXY5ODU0NkBtb2Rpcm9zYS5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsIjoibGV3YXY5ODU0NkBtb2Rpcm9zYS5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkNsaWVudGUgVGVzdGUgMiIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiMDU5NTM5ZmEtZmNhMC00NDE5LTlkMDUtZjQwY2RkM2YzOTcyIn0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDY0Nzh9XSwic2Vzc2lvbl9pZCI6IjU4MTk4MzIxLWU5NDAtNDU2OS1hMjNlLTE1NzBiMzFjYjA5MyIsImlzX2Fub255bW91cyI6ZmFsc2V9.1nKZclDtXle5RluHmyAqlvKZitwURstimx3YujAkU78
Content-Type: application/json

{}

### Espera: 403, { "message": "Apenas donos, cozinheiros ou garçons podem listar mesas" }

### 7. Update Table (Sucesso - Dono)
PUT http://localhost:3000/tables/{{table_id}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIyMzcwZjhhNC05ZTgxLTRkMjUtYjY5Ny1mZWUxMjg5MjExMDkiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTI2LCJpYXQiOjE3NTMyMDY1MjYsImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkRvbm8gVGVzdGUiLCJwaG9uZV92ZXJpZmllZCI6ZmFsc2UsInN1YiI6IjIzNzBmOGE0LTllODEtNGQyNS1iNjk3LWZlZTEyODkyMTEwOSJ9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzUzMjA2NTI2fV0sInNlc3Npb25faWQiOiJmMjYzYmEwOC01OWM3LTRjNDMtODc1Zi1iYWVlMGMyY2MwNTAiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.2_GwDqbWojmBgm3tbqurRnnSmoQ5oGGdoW1NOXUmTJE
Content-Type: application/json

{
  "table_number": 2,
  "status": "reserved",
  "capacity": 6
}

### Espera: 200, { "message": "Mesa atualizada com sucesso" }

### 8. Update Table (Sucesso - Garçom, apenas status)
PUT http://localhost:3000/tables/{{table_id}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI1M2FkMzFkMC03YjNjLTRkNTQtOTA5Ny1lZGQxMDBmYjYzYTUiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTM3LCJpYXQiOjE3NTMyMDY1MzcsImVtYWlsIjoib2xpdmVpcmF2YWxkaXJlbmU3NDZAZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJlbWFpbCIsInByb3ZpZGVycyI6WyJlbWFpbCJdfSwidXNlcl9tZXRhZGF0YSI6eyJlbWFpbCI6Im9saXZlaXJhdmFsZGlyZW5lNzQ2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiR2Fyw6dvbSBUZXN0ZSIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiNTNhZDMxZDAtN2IzYy00ZDU0LTkwOTctZWRkMTAwZmI2M2E1In0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDY1Mzd9XSwic2Vzc2lvbl9pZCI6IjNlN2IxMmI1LTBjODctNDgzZC04MTQ1LTc3ZWY3ZDQ0ZGI1YyIsImlzX2Fub255bW91cyI6ZmFsc2V9.q33h0pVeuSY_iotpL_ft7eNMdKyI0YIFLwq-PJNwxTc
Content-Type: application/json

{
  "status": "occupied"
}

### Espera: 200, { "message": "Mesa atualizada com sucesso" }

### 9. Update Table (Erro - Garçom tenta atualizar table_number)
PUT http://localhost:3000/tables/{{table_id}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI1M2FkMzFkMC03YjNjLTRkNTQtOTA5Ny1lZGQxMDBmYjYzYTUiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTM3LCJpYXQiOjE3NTMyMDY1MzcsImVtYWlsIjoib2xpdmVpcmF2YWxkaXJlbmU3NDZAZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJlbWFpbCIsInByb3ZpZGVycyI6WyJlbWFpbCJdfSwidXNlcl9tZXRhZGF0YSI6eyJlbWFpbCI6Im9saXZlaXJhdmFsZGlyZW5lNzQ2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiR2Fyw6dvbSBUZXN0ZSIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiNTNhZDMxZDAtN2IzYy00ZDU0LTkwOTctZWRkMTAwZmI2M2E1In0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDY1Mzd9XSwic2Vzc2lvbl9pZCI6IjNlN2IxMmI1LTBjODctNDgzZC04MTQ1LTc3ZWY3ZDQ0ZGI1YyIsImlzX2Fub255bW91cyI6ZmFsc2V9.q33h0pVeuSY_iotpL_ft7eNMdKyI0YIFLwq-PJNwxTc
Content-Type: application/json

{
  "table_number": 3,
  "status": "available"
}

### Espera: 403, { "message": "Acesso negado: garçons só podem atualizar o status" }

### 10. Update Table (Erro - Sem permissão, Cliente)
PUT http://localhost:3000/tables/{{table_id}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIwNTk1MzlmYS1mY2EwLTQ0MTktOWQwNS1mNDBjZGQzZjM5NzIiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMDc4LCJpYXQiOjE3NTMyMDY0NzgsImVtYWlsIjoibGV3YXY5ODU0NkBtb2Rpcm9zYS5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsIjoibGV3YXY5ODU0NkBtb2Rpcm9zYS5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkNsaWVudGUgVGVzdGUgMiIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiMDU5NTM5ZmEtZmNhMC00NDE5LTlkMDUtZjQwY2RkM2YzOTcyIn0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDY0Nzh9XSwic2Vzc2lvbl9pZCI6IjU4MTk4MzIxLWU5NDAtNDU2OS1hMjNlLTE1NzBiMzFjYjA5MyIsImlzX2Fub255bW91cyI6ZmFsc2V9.1nKZclDtXle5RluHmyAqlvKZitwURstimx3YujAkU78
Content-Type: application/json

{
  "status": "available"
}

### Espera: 403, { "message": "Apenas donos ou garçons podem atualizar mesas" }

### 11. Validate QR Code (Sucesso - Cliente 1)
POST http://localhost:3000/tables/validate-qr
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIwNTk1MzlmYS1mY2EwLTQ0MTktOWQwNS1mNDBjZGQzZjM5NzIiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMDc4LCJpYXQiOjE3NTMyMDY0NzgsImVtYWlsIjoibGV3YXY5ODU0NkBtb2Rpcm9zYS5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsIjoibGV3YXY5ODU0NkBtb2Rpcm9zYS5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkNsaWVudGUgVGVzdGUgMiIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiMDU5NTM5ZmEtZmNhMC00NDE5LTlkMDUtZjQwY2RkM2YzOTcyIn0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDY0Nzh9XSwic2Vzc2lvbl9pZCI6IjU4MTk4MzIxLWU5NDAtNDU2OS1hMjNlLTE1NzBiMzFjYjA5MyIsImlzX2Fub255bW91cyI6ZmFsc2V9.1nKZclDtXle5RluHmyAqlvKZitwURstimx3YujAkU78
Content-Type: application/json

{
    "qr_code": "7998244a-db3a-4300-9fed-bc3aa9f68ac4"
}

### Espera: 200, { "table_id": "{{table_id}}", "restaurant_id": "{{restaurant_id}}", "table_number": 2 }

### 12. Validate QR Code (Erro - QR code já em uso, Cliente 2)
POST http://localhost:3000/tables/validate-qr
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIyYmMwYTMxMC1lMWZiLTQ4MDYtOTk4Mi1lNWQ2YTc5ZjlmMTQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEyMzU5LCJpYXQiOjE3NTMyMDg3NTksImVtYWlsIjoidmluaWRxMThAZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJlbWFpbCIsInByb3ZpZGVycyI6WyJlbWFpbCJdfSwidXNlcl9tZXRhZGF0YSI6eyJlbWFpbCI6InZpbmlkcTE4QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiQ2xpZW50ZSBUZXN0ZSIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiMmJjMGEzMTAtZTFmYi00ODA2LTk5ODItZTVkNmE3OWY5ZjE0In0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDg3NTl9XSwic2Vzc2lvbl9pZCI6IjZjZjRjZDgyLTMxYTYtNDJjOC04OTNiLTU3ZDA1N2M1ZDYwYyIsImlzX2Fub255bW91cyI6ZmFsc2V9.TpGx7wB_Hw__9JiGc5O5XdHSHEVBa7XX2n4JYLSKPkU
Content-Type: application/json

{
    "qr_code": "7998244a-db3a-4300-9fed-bc3aa9f68ac4"
}

### Espera: 400, { "message": "QR code já está em uso por outra sessão" }

### 13. Close Session (Sucesso - Garçom)
POST http://localhost:3000/tables/close-session
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI1M2FkMzFkMC03YjNjLTRkNTQtOTA5Ny1lZGQxMDBmYjYzYTUiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTM3LCJpYXQiOjE3NTMyMDY1MzcsImVtYWlsIjoib2xpdmVpcmF2YWxkaXJlbmU3NDZAZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJlbWFpbCIsInByb3ZpZGVycyI6WyJlbWFpbCJdfSwidXNlcl9tZXRhZGF0YSI6eyJlbWFpbCI6Im9saXZlaXJhdmFsZGlyZW5lNzQ2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiR2Fyw6dvbSBUZXN0ZSIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiNTNhZDMxZDAtN2IzYy00ZDU0LTkwOTctZWRkMTAwZmI2M2E1In0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDY1Mzd9XSwic2Vzc2lvbl9pZCI6IjNlN2IxMmI1LTBjODctNDgzZC04MTQ1LTc3ZWY3ZDQ0ZGI1YyIsImlzX2Fub255bW91cyI6ZmFsc2V9.q33h0pVeuSY_iotpL_ft7eNMdKyI0YIFLwq-PJNwxTc
Content-Type: application/json

{
    "qr_code": "7998244a-db3a-4300-9fed-bc3aa9f68ac4"
}

### Espera: 200, { "message": "Sessão fechada e mesa liberada com sucesso" }

### 14. Validate QR Code (Sucesso - Cliente 2, após garçom liberar)
POST http://localhost:3000/tables/validate-qr
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIyYmMwYTMxMC1lMWZiLTQ4MDYtOTk4Mi1lNWQ2YTc5ZjlmMTQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEyMzU5LCJpYXQiOjE3NTMyMDg3NTksImVtYWlsIjoidmluaWRxMThAZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJlbWFpbCIsInByb3ZpZGVycyI6WyJlbWFpbCJdfSwidXNlcl9tZXRhZGF0YSI6eyJlbWFpbCI6InZpbmlkcTE4QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiQ2xpZW50ZSBUZXN0ZSIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiMmJjMGEzMTAtZTFmYi00ODA2LTk5ODItZTVkNmE3OWY5ZjE0In0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDg3NTl9XSwic2Vzc2lvbl9pZCI6IjZjZjRjZDgyLTMxYTYtNDJjOC04OTNiLTU3ZDA1N2M1ZDYwYyIsImlzX2Fub255bW91cyI6ZmFsc2V9.TpGx7wB_Hw__9JiGc5O5XdHSHEVBa7XX2n4JYLSKPkU
Content-Type: application/json

{
    "qr_code": "7998244a-db3a-4300-9fed-bc3aa9f68ac4"
}

### Espera: 200, { "table_id": "{{table_id}}", "restaurant_id": "{{restaurant_id}}", "table_number": 2 }

### 15. Close Session (Sucesso - Dono)
POST http://localhost:3000/tables/close-session
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIyMzcwZjhhNC05ZTgxLTRkMjUtYjY5Ny1mZWUxMjg5MjExMDkiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTI2LCJpYXQiOjE3NTMyMDY1MjYsImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkRvbm8gVGVzdGUiLCJwaG9uZV92ZXJpZmllZCI6ZmFsc2UsInN1YiI6IjIzNzBmOGE0LTllODEtNGQyNS1iNjk3LWZlZTEyODkyMTEwOSJ9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzUzMjA2NTI2fV0sInNlc3Npb25faWQiOiJmMjYzYmEwOC01OWM3LTRjNDMtODc1Zi1iYWVlMGMyY2MwNTAiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.2_GwDqbWojmBgm3tbqurRnnSmoQ5oGGdoW1NOXUmTJE
Content-Type: application/json

{
    "qr_code": "7998244a-db3a-4300-9fed-bc3aa9f68ac4"
}

### Espera: 200, { "message": "Sessão fechada e mesa liberada com sucesso" }

### 16. Close Session (Erro - Cliente não associado)
POST http://localhost:3000/tables/close-session
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIyYmMwYTMxMC1lMWZiLTQ4MDYtOTk4Mi1lNWQ2YTc5ZjlmMTQiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEyMzU5LCJpYXQiOjE3NTMyMDg3NTksImVtYWlsIjoidmluaWRxMThAZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJlbWFpbCIsInByb3ZpZGVycyI6WyJlbWFpbCJdfSwidXNlcl9tZXRhZGF0YSI6eyJlbWFpbCI6InZpbmlkcTE4QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiQ2xpZW50ZSBUZXN0ZSIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiMmJjMGEzMTAtZTFmYi00ODA2LTk5ODItZTVkNmE3OWY5ZjE0In0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDg3NTl9XSwic2Vzc2lvbl9pZCI6IjZjZjRjZDgyLTMxYTYtNDJjOC04OTNiLTU3ZDA1N2M1ZDYwYyIsImlzX2Fub255bW91cyI6ZmFsc2V9.TpGx7wB_Hw__9JiGc5O5XdHSHEVBa7XX2n4JYLSKPkU
Content-Type: application/json

{
    "qr_code": "7998244a-db3a-4300-9fed-bc3aa9f68ac4"
}

### Espera: 403, { "message": "Acesso negado: você não está associado a esta sessão" }

### 17. Validate QR Code (Erro - QR code inválido)
POST http://localhost:3000/tables/validate-qr
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIwNTk1MzlmYS1mY2EwLTQ0MTktOWQwNS1mNDBjZGQzZjM5NzIiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMDc4LCJpYXQiOjE3NTMyMDY0NzgsImVtYWlsIjoibGV3YXY5ODU0NkBtb2Rpcm9zYS5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsIjoibGV3YXY5ODU0NkBtb2Rpcm9zYS5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkNsaWVudGUgVGVzdGUgMiIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiMDU5NTM5ZmEtZmNhMC00NDE5LTlkMDUtZjQwY2RkM2YzOTcyIn0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDY0Nzh9XSwic2Vzc2lvbl9pZCI6IjU4MTk4MzIxLWU5NDAtNDU2OS1hMjNlLTE1NzBiMzFjYjA5MyIsImlzX2Fub255bW91cyI6ZmFsc2V9.1nKZclDtXle5RluHmyAqlvKZitwURstimx3YujAkU78
Content-Type: application/json

{
  "qr_code": "invalid_qr_code"
}

### Espera: 400, { "message": "QR code inválido" }

### 18. Validate QR Code (Erro - Sem permissão, Dono)
POST http://localhost:3000/tables/validate-qr
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIyMzcwZjhhNC05ZTgxLTRkMjUtYjY5Ny1mZWUxMjg5MjExMDkiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTI2LCJpYXQiOjE3NTMyMDY1MjYsImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkRvbm8gVGVzdGUiLCJwaG9uZV92ZXJpZmllZCI6ZmFsc2UsInN1YiI6IjIzNzBmOGE0LTllODEtNGQyNS1iNjk3LWZlZTEyODkyMTEwOSJ9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzUzMjA2NTI2fV0sInNlc3Npb25faWQiOiJmMjYzYmEwOC01OWM3LTRjNDMtODc1Zi1iYWVlMGMyY2MwNTAiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.2_GwDqbWojmBgm3tbqurRnnSmoQ5oGGdoW1NOXUmTJE
Content-Type: application/json

{
    "qr_code": "7998244a-db3a-4300-9fed-bc3aa9f68ac4"
}

### Espera: 403, { "message": "Apenas clientes podem validar QR codes" }

### 19. Delete Table (Sucesso - Dono)
DELETE http://localhost:3000/tables/{{table_id}}
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiIyMzcwZjhhNC05ZTgxLTRkMjUtYjY5Ny1mZWUxMjg5MjExMDkiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTI2LCJpYXQiOjE3NTMyMDY1MjYsImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJwaG9uZSI6IiIsImFwcF9tZXRhZGF0YSI6eyJwcm92aWRlciI6ImVtYWlsIiwicHJvdmlkZXJzIjpbImVtYWlsIl19LCJ1c2VyX21ldGFkYXRhIjp7ImVtYWlsIjoiZGV2LnF1ZWlyb3owNUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkRvbm8gVGVzdGUiLCJwaG9uZV92ZXJpZmllZCI6ZmFsc2UsInN1YiI6IjIzNzBmOGE0LTllODEtNGQyNS1iNjk3LWZlZTEyODkyMTEwOSJ9LCJyb2xlIjoiYXV0aGVudGljYXRlZCIsImFhbCI6ImFhbDEiLCJhbXIiOlt7Im1ldGhvZCI6InBhc3N3b3JkIiwidGltZXN0YW1wIjoxNzUzMjA2NTI2fV0sInNlc3Npb25faWQiOiJmMjYzYmEwOC01OWM3LTRjNDMtODc1Zi1iYWVlMGMyY2MwNTAiLCJpc19hbm9ueW1vdXMiOmZhbHNlfQ.2_GwDqbWojmBgm3tbqurRnnSmoQ5oGGdoW1NOXUmTJE
Content-Type: application/json

{}

### Espera: 200, { "message": "Mesa excluída com sucesso" }

### 20. Delete Table (Erro - Sem permissão, Garçom)
DELETE http://localhost:3000/tables/7998244a-db3a-4300-9fed-bc3aa9f68ac4
Authorization: Bearer eyJhbGciOiJIUzI1NiIsImtpZCI6InZ4d09QWjdMTG9kSFpkckoiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL3N3ZnpidnppbmdscXNna3l5aHh4LnN1cGFiYXNlLmNvL2F1dGgvdjEiLCJzdWIiOiI1M2FkMzFkMC03YjNjLTRkNTQtOTA5Ny1lZGQxMDBmYjYzYTUiLCJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoxNzUzMjEwMTM3LCJpYXQiOjE3NTMyMDY1MzcsImVtYWlsIjoib2xpdmVpcmF2YWxkaXJlbmU3NDZAZ21haWwuY29tIiwicGhvbmUiOiIiLCJhcHBfbWV0YWRhdGEiOnsicHJvdmlkZXIiOiJlbWFpbCIsInByb3ZpZGVycyI6WyJlbWFpbCJdfSwidXNlcl9tZXRhZGF0YSI6eyJlbWFpbCI6Im9saXZlaXJhdmFsZGlyZW5lNzQ2QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJuYW1lIjoiR2Fyw6dvbSBUZXN0ZSIsInBob25lX3ZlcmlmaWVkIjpmYWxzZSwic3ViIjoiNTNhZDMxZDAtN2IzYy00ZDU0LTkwOTctZWRkMTAwZmI2M2E1In0sInJvbGUiOiJhdXRoZW50aWNhdGVkIiwiYWFsIjoiYWFsMSIsImFtciI6W3sibWV0aG9kIjoicGFzc3dvcmQiLCJ0aW1lc3RhbXAiOjE3NTMyMDY1Mzd9XSwic2Vzc2lvbl9pZCI6IjNlN2IxMmI1LTBjODctNDgzZC04MTQ1LTc3ZWY3ZDQ0ZGI1YyIsImlzX2Fub255bW91cyI6ZmFsc2V9.q33h0pVeuSY_iotpL_ft7eNMdKyI0YIFLwq-PJNwxTc
Content-Type: application/json

{}

### Espera: 403, { "message": "Apenas donos podem excluir mesas" }